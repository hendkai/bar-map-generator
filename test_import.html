<!DOCTYPE html>
<html>
<head>
    <title>Test Import Config Function</title>
</head>
<body>
    <h1>Test importConfigFromJSON Function</h1>
    <p>This test page verifies the importConfigFromJSON function works correctly.</p>

    <h2>Test Steps:</h2>
    <ol>
        <li>Open bar_map_generator.html in a browser</li>
        <li>Generate a map with any settings</li>
        <li>Click "Export Config (JSON)" to download a config file</li>
        <li>Use the file input below to import the config back</li>
        <li>Verify all form fields match the exported values</li>
    </ol>

    <h2>Direct File Test:</h2>
    <input type="file" id="testFileInput" accept=".json">
    <button onclick="testImport()">Test Import</button>

    <script>
        function testImport() {
            const fileInput = document.getElementById('testFileInput');
            const file = fileInput.files[0];

            if (!file) {
                alert('Please select a JSON file first!');
                return;
            }

            // Read and display the file content for verification
            const reader = new FileReader();
            reader.onload = function(e) {
                const content = e.target.result;
                const data = JSON.parse(content);

                alert('File content loaded successfully!\n\n' +
                      'Creator: ' + data.metadata?.creator + '\n' +
                      'Terrain: ' + data.config?.terrainType + '\n' +
                      'Players: ' + data.config?.playerCount + '\n\n' +
                      'To complete the test, open bar_map_generator.html and run:\n' +
                      'importConfigFromJSON(file)\n\n' +
                      'Where "file" is the file object from this input.');
            };
            reader.readAsText(file);
        }
    </script>
</body>
</html>
